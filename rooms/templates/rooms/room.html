{% extends "calci/base.html" %}
{% load static %}
{% block content %}

<div class="d-flex justify-content-between align-items-center" id="locbase" style="width: 100%;">
    <h3>WELCOME TO {{ room.name }}</h3>
    <div class="btn-group ms-auto" style="right: 5%;">
        <button type="button" class="btn btn-danger dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            MEMBERS
        </button>
        <ul class="dropdown-menu" id="members">
            {% for member in members %}
            <li><a class="dropdown-item" href="#">{{ member.user.username }}</a></li>
            {% endfor %}
        </ul>
    </div>
</div>

<div class="d-flex" id="locbase">
    <p class="d-flex" style="display: inline;"> code : {{room.slug}}</p>
    <p class="d-flex" style="display: inline; margin-left:5%;"> online:
    <p id="online" class="d-flex" style="display: inline;">{{online}}</p></p>
</div>
<div id="chat-area" class="container overflow-y-auto " style="height: 75%;" >
    {% for message in messages %}
    <div class="card">
        <div class="card-header">{{message.user.username}}</div>
        <div class="card-body">
            <blockquote class="blockquote mb-0">
                <p> {{message.content}}</p>
                <footer class="blockquote-footer">at <cite title="Source Title">{{message.created}}</cite></footer>
            </blockquote>
        </div>
    </div>
    {% endfor %}
</div>
<form>
    <div id="chat-message-form" class="input-group fixed-bottom">
        <input id="chat-message-input" type="text" class="form-control" size="100">
        <div class="input-group-append">
            <button id="chat-message-submit" type="submit" class="btn btn-primary">Send</button>
        </div>
    </div>
</form>

    
{% endblock content %}

{% block script %}

{{room.slug|json_script:"json-roomname"}}
{{request.user.username|json_script:"json-username"}}
<script src="{% static 'rooms/room.js' %}"></script>

{%endblock script%}



